{
  "name": "local-history-chinese",
  "displayName": "本地历史记录",
  "description": "将文件保存到本地历史记录中",
  "publisher": "xyz",
  "version": "1.8.2",
  "engines": {
    "vscode": "^1.42.0"
  },
  "icon": "images/local-history.png",
  "homepage": "https://github.com/zabel-xyz/local-history",
  "repository": {
    "type": "git",
    "url": "https://github.com/zabel-xyz/local-history.git"
  },
  "bugs": {
    "url": "https://github.com/zabel-xyz/local-history/issues"
  },
  "keywords": [
    "local",
    "history",
    "save",
    "backup",
    "multi-root ready"
  ],
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "localHistory",
          "icon": "resources/images/history.svg",
          "title": "本地历史记录"
        }
      ]
    },
    "views": {
      "localHistory": [
        {
          "id": "treeLocalHistory",
          "name": "历史记录",
          "when": "local-history:treeLocation == localHistory"
        }
      ],
      "explorer": [
        {
          "id": "treeLocalHistoryExplorer",
          "name": "本地历史记录",
          "when": "local-history:treeLocation == explorer"
        }
      ]
    },
    "commands": [
      {
        "command": "treeLocalHistory.refresh",
        "title": "刷新",
        "when": false,
        "icon": "$(refresh)"
      },
      {
        "command": "treeLocalHistory.more",
        "title": "查看更多历史记录",
        "when": false,
        "icon": "$(zoom-in)"
      },
      {
        "command": "treeLocalHistory.deleteAll",
        "title": "删除历史记录",
        "when": false,
        "icon": "$(trash)"
      },
      {
        "command": "treeLocalHistory.forCurrentFile",
        "title": "当前文件",
        "when": false
      },
      {
        "command": "treeLocalHistory.forAll",
        "title": "全部文件",
        "when": false
      },
      {
        "command": "treeLocalHistory.forSpecificFile",
        "title": "指定文件",
        "when": false
      },
      {
        "command": "treeLocalHistory.showSideEntry",
        "title": "在侧边打开",
        "when": false
      },
      {
        "command": "treeLocalHistory.deleteEntry",
        "title": "删除",
        "when": false
      },
      {
        "command": "treeLocalHistory.compareToCurrentEntry",
        "title": "与当前版本比较",
        "when": false
      },
      {
        "command": "treeLocalHistory.selectEntry",
        "title": "选择用于比较",
        "when": false
      },
      {
        "command": "treeLocalHistory.compareEntry",
        "title": "与选中项比较",
        "when": false
      },
      {
        "command": "treeLocalHistory.restoreEntry",
        "title": "恢复",
        "when": false
      },
      {
        "command": "local-history.showAll",
        "title": "本地历史记录: 显示全部"
      },
      {
        "command": "local-history.showCurrent",
        "title": "本地历史记录: 显示当前版本"
      },
      {
        "command": "local-history.compareToCurrent",
        "title": "本地历史记录: 与当前版本比较"
      },
      {
        "command": "local-history.compareToActive",
        "title": "本地历史记录: 与活动文件比较"
      },
      {
        "command": "local-history.compareToPrevious",
        "title": "本地历史记录: 与上一版本比较"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "treeLocalHistory.forCurrentFile",
          "when": "false"
        },
        {
          "command": "treeLocalHistory.forAll",
          "when": "false"
        },
        {
          "command": "treeLocalHistory.forSpecificFile",
          "when": "false"
        }
      ],
      "view/title": [
        {
          "command": "treeLocalHistory.refresh",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation@1"
        },
        {
          "command": "treeLocalHistory.more",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation@2"
        },
        {
          "command": "treeLocalHistory.deleteAll",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation@3"
        },
        {
          "command": "treeLocalHistory.forCurrentFile",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation_filter"
        },
        {
          "command": "treeLocalHistory.forAll",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation_filter"
        },
        {
          "command": "treeLocalHistory.forSpecificFile",
          "when": "view == treeLocalHistory || view == treeLocalHistoryExplorer",
          "group": "navigation_filter"
        }
      ],
      "view/item/context": [
        {
          "command": "treeLocalHistory.showSideEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "1_tree-navigation@1"
        },
        {
          "command": "treeLocalHistory.compareToCurrentEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "2_tree-compare@1"
        },
        {
          "command": "treeLocalHistory.selectEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "2_tree-compare@2"
        },
        {
          "command": "treeLocalHistory.compareEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "2_tree-compare@3"
        },
        {
          "command": "treeLocalHistory.deleteEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "3_tree-action@1"
        },
        {
          "command": "treeLocalHistory.deleteEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryGrp || view == treeLocalHistoryExplorer && viewItem == localHistoryGrp",
          "group": "3_tree-action@1"
        },
        {
          "command": "treeLocalHistory.restoreEntry",
          "when": "view == treeLocalHistory && viewItem == localHistoryItem || view == treeLocalHistoryExplorer && viewItem == localHistoryItem",
          "group": "4_tree-action@1"
        }
      ]
    },
    "configuration": {
      "type": "object",
      "title": "本地历史记录配置",
      "properties": {
        "local-history.saveDelay": {
          "type": "number",
          "default": 0,
          "description": "控制保存本地历史记录的延迟秒数，避免生成过多历史文件"
        },
        "local-history.daysLimit": {
          "type": "number",
          "default": 30,
          "description": "清理本地历史记录的天数限制 (0: 不清理)"
        },
        "local-history.maxDisplay": {
          "type": "number",
          "default": 10,
          "description": "最大显示文件数量"
        },
        "local-history.dateLocale": {
          "type": "string",
          "default": "",
          "description": "指定显示日期时使用的区域设置"
        },
        "local-history.exclude": {
          "type": "array",
          "default": [
            "**/.history/**",
            "**/.vscode/**",
            "**/node_modules/**",
            "**/typings/**",
            "**/out/**",
            "**/Code/User/**"
          ],
          "description": "不保存的文件或文件夹"
        },
        "local-history.enabled": {
          "type": "number",
          "default": 1,
          "description": "是否启用本地历史记录保存 (0=从不, 1=总是, 2=仅限于工作区文件夹)"
        },
        "local-history.path": {
          "type": "string",
          "default": "",
          "description": "指定.history文件夹的位置 (空值: 使用工作区文件夹)"
        },
        "local-history.absolute": {
          "type": "boolean",
          "default": false,
          "description": "在local-history.path中保存绝对路径"
        },
        "local-history.treeLocation": {
          "type": "string",
          "default": "explorer",
          "enum": [
            "explorer",
            "localHistory"
          ],
          "description": "指定树形视图的位置: 资源管理器或本地历史记录"
        }
      }
    }
  },
  "main": "./out/src/extension",
  "scripts": {
    "vscode:prepublish": "tsc -p ./",
    "compile": "tsc -p ./",
    "postinstall": "node ./node_modules/vscode/bin/install"
  },
  "dependencies": {
    "glob": "7.1.6",
    "anymatch": "3.1.1",
    "is-path-inside": "3.0.2",
    "rimraf": "3.0.2"
  },
  "devDependencies": {
    "typescript": "3.7.5",
    "vscode": "1.1.36",
    "@types/node": "13.7.1"
  }
}
